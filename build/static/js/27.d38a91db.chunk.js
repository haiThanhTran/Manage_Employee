(this["webpackJsonpglobits-react"]=this["webpackJsonpglobits-react"]||[]).push([[27],{1647:function(e,t,a){},1684:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return h})),a.d(t,"f",(function(){return m}));var i=a(13),s=a.n(i),n=a(1),l=a.n(n);const o=e=>{var t=l.a.API_ENPOINT+"/api/AdministrativeUnit/searchByDto";return s.a.post(t,e)},r=(e,t)=>{const a={params:{id:e,code:t}};var i=l.a.API_ENPOINT+"/api/AdministrativeUnit/checkCode";return s.a.get(i,a)},c=e=>{var t=l.a.API_ENPOINT+"/api/administrativeunit/"+e;return s.a.get(t)},d=e=>s.a.delete(l.a.API_ENPOINT+"/api/administrativeunit/"+e),h=e=>s.a.post(l.a.API_ENPOINT+"/api/administrativeunit",e),m=e=>s.a.post(l.a.API_ENPOINT+"/api/administrativeunit",e)},1685:function(e,t,a){},1718:function(e,t,a){"use strict";var i=a(3),s=a(0),n=a.n(s),l=a(1345),o=a(1637),r=a(1329),c=a(1328),d=a(1638),h=a(1347),m=a(1346),u=a(1332),g=a(1420),p=a(1684),f=(a(140),a(1620)),v=a.n(f),C=a(228),E=a(10),P=(a(289),a(1685),a(1647),a(14)),b=a(1331);function w(e){return n.a.createElement(v.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},n.a.createElement(C.a,e))}E.a.configure({autoClose:1e3,draggable:!1,limit:3});class D extends s.Component{constructor(){super(...arguments),this.state={name:"",code:"",level:0,isActive:!1,loading:!1},this.handleChange=(e,t)=>{e.persist(),"switch"!==t?this.setState({[e.target.name]:e.target.value}):this.setState({isActive:e.target.checked})},this.openCircularProgress=()=>{this.setState({loading:!0})},this.handleFormSubmit=async()=>{await this.openCircularProgress();let{id:e,code:t}=this.state,{t:a}=this.props;Object(p.b)(e,t).then(t=>{t.data?(console.log("Code \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng"),E.a.warning(a("mess_code")),this.setState({loading:!1})):e?Object(p.f)(Object(i.a)({},this.state)).then(()=>{E.a.success(a("mess_edit")),this.setState({loading:!1})}):Object(p.a)(Object(i.a)({},this.state)).then(e=>{null!=e.data&&200==e.status&&(this.state.id=e.data.id,this.setState(Object(i.a)(Object(i.a)({},this.state),{},{loading:!1})),E.a.success(a("mess_add")))})})}}componentWillMount(){let{open:e,handleClose:t,item:a}=this.props;this.setState(a)}render(){let{open:e,handleClose:t,handleOKEditClose:a,t:i,i18n:s}=this.props,{id:p,name:f,code:v,level:C,isActive:E,loading:D}=this.state;return n.a.createElement(l.a,{open:e,PaperComponent:w,maxWidth:"sm",fullWidth:!0},n.a.createElement("div",{className:Object(P.default)("wrapperButton",!D&&"hidden")},n.a.createElement(b.a,{className:"buttonProgress",size:24})),n.a.createElement(o.a,{style:{cursor:"move"},id:"draggable-dialog-title"},n.a.createElement("span",{className:"mb-20 styleColor"}," ",i(p?"update":"Add")+" "+i("AdministrativeUnit.title")," "),n.a.createElement(r.a,{style:{position:"absolute",right:"10px",top:"10px"},onClick:()=>t()},n.a.createElement(c.a,{color:"error",title:i("close")},"close"))),n.a.createElement(g.ValidatorForm,{ref:"form",onSubmit:this.handleFormSubmit,style:{overflowY:"auto",display:"flex",flexDirection:"column"}},n.a.createElement(d.a,{dividers:!0},n.a.createElement(h.a,{className:"",container:!0,spacing:4},n.a.createElement(h.a,{item:!0,sm:12,xs:12},n.a.createElement(g.TextValidator,{className:"w-100 mb-16",label:n.a.createElement("span",{className:"font"},n.a.createElement("span",{style:{color:"red"}}," *"),i("AdministrativeUnit.code")),onChange:this.handleChange,type:"text",name:"code",value:v,validators:["required"],errorMessages:[i("general.errorMessages_required")],variant:"outlined",size:"small"}),n.a.createElement(g.TextValidator,{className:"w-100 mb-16",label:n.a.createElement("span",{className:"font"},n.a.createElement("span",{style:{color:"red"}}," *"),i("AdministrativeUnit.name")),onChange:this.handleChange,type:"text",name:"name",value:f,validators:["required"],errorMessages:[i("general.errorMessages_required")],variant:"outlined",size:"small"})))),n.a.createElement(m.a,{spacing:4,className:"flex flex-end flex-middle"},n.a.createElement(u.a,{variant:"contained",color:"secondary",onClick:()=>this.props.handleClose()},i("Cancel")),n.a.createElement(u.a,{variant:"contained",color:"primary",type:"submit"},i("Save")))))}}t.a=D},1807:function(e,t,a){},1896:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i),n=(a(1807),a(1808),a(1809)),l=a(1665),o=a(1684),r=a(1718),c=a(20),d=(a(1),a(547)),h=a(1332),m=a(1476);function u(e){const{t:t,i18n:a}=Object(d.a)(),i=e.cell._cell.row.data;return s.a.createElement("div",null,s.a.createElement("button",{onClick:()=>e.onSelect(i,0)},t("Edit")),s.a.createElement("button",{onClick:()=>e.onSelect(i,1)},t("Delete")))}class g extends s.a.Component{constructor(){super(...arguments),this.ref=null,this.state={rowsPerPage:3,page:0,data:[],totalElements:0,administrativeList:[],shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1},this.SimpleButton=e=>{const t=e.cell._cell.row.data;return s.a.createElement("div",null,s.a.createElement("button",{onClick:()=>e.onSelect(t,0)},"Edit"),s.a.createElement("button",{onClick:()=>e.onSelect(t,1)},"Delete"))},this.setPage=e=>{this.setState({page:e})},this.setRowsPerPage=e=>{this.setState({rowsPerPage:e.target.value,page:0}),this.updatePageData(0,e.target.value)},this.handleChangePage=(e,t)=>{this.setPage(t),this.updatePageData(t,this.state.rowsPerPage)},this.handleDownload=()=>{var e=new Blob(["Hello, world!"],{type:"text/plain;charset=utf-8"});Object(l.saveAs)(e,"hello world.txt")},this.handleDialogClose=()=>{this.setState({shouldOpenEditorDialog:!1,shouldOpenConfirmationDialog:!1}),this.setPage(0),this.updatePageData(this.state.page,this.state.rowsPerPage)},this.handleDeleteAdministrativeUnit=e=>{this.setState({id:e,shouldOpenConfirmationDialog:!0})},this.handleConfirmationResponse=()=>{Object(o.c)(this.state.id).then(()=>{this.handleDialogClose()})},this.handleEditItem=e=>{this.setState({item:e,shouldOpenEditorDialog:!0})},this.updatePageData=(e,t)=>{Object(o.d)(e,t).then(e=>{let{data:t}=e;return this.setState({administrativeList:[...t.content],totalElements:t.totalElements})})},this.rowClick=(e,t)=>{console.log("ref table: ",this.ref.table),console.log("rowClick id: ${row.getData().id}",t,e)},this.setData=()=>{this.setState({data:this.state.administrativeList})},this.clearData=()=>{this.setState({data:[]})},this.GetColumns=e=>e,this.rowClick=(e,t)=>{this.setState({item:t.getData()}),console.log("ref table: ",this.ref.table),console.log("rowClick id: ${row.getData().id}",t,e),this.setState({selectedName:t.getData().name})}}componentDidMount(){this.updatePageData(this.state.page,this.state.rowsPerPage)}render(){const{t:e,i18n:t}=this.props;let a=[{title:e("Name"),field:"name",width:"150"},{title:e("Code"),field:"code",align:"left",width:"150"},{title:e("Level"),field:"level",width:"150"},{title:e("IsActive"),field:"isActive",width:"20%"},{title:e("Action"),field:"custom",align:"left",width:"250",formatter:Object(n.reactFormatter)(s.a.createElement(u,{onSelect:(e,t)=>{0===t?this.setState({selectedItem:e,shouldOpenEditorDialog:!0}):this.handleDeleteAdministrativeUnit(e.id)}}))}];let{rowsPerPage:i,page:l,administrativeList:o,shouldOpenConfirmationDialog:d,shouldOpenEditorDialog:g}=this.state;return s.a.createElement("div",null,s.a.createElement(h.a,{className:"mb-16",variant:"contained",color:"primary",onClick:()=>this.setState({shouldOpenEditorDialog:!0,item:{}})},e("AdministrativeUnitTable.AddNew")),g&&s.a.createElement(r.a,{handleClose:this.handleDialogClose,open:this.state.shouldOpenEditorDialog,item:this.state.item}),d&&s.a.createElement(c.c,{open:d,onConfirmDialogClose:this.handleDialogClose,onYesClick:this.handleConfirmationResponse,text:"Are you sure to delete?"}),s.a.createElement(n.React15Tabulator,{ref:e=>this.ref=e,columns:a,data:o,rowClick:this.rowClick,options:{height:"90%",movableRows:!1},"data-custom-attr":"test-custom-attribute",className:"custom-css-class",resizableColumns:"false",movableColumns:"false",scrollToColumnIfVisible:"true",selectableRollingSelection:"false"}),s.a.createElement(m.a,{align:"left",className:"px-16",rowsPerPageOptions:[1,2,3,5,10,25],component:"div",count:this.state.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.page,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.setRowsPerPage}))}}t.default=g}}]);
//# sourceMappingURL=27.d38a91db.chunk.js.map