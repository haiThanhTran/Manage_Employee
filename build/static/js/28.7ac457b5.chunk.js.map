{"version":3,"sources":["app/views/AdministrativeUnit/AdministrativeUnitService.js","app/views/AdministrativeUnit/AdministrativeUnitEditorDialog.jsx","app/views/AdministrativeUnit/React15TabulatorSample.js"],"names":["getByPage","searchDto","url","ConstantList","API_ENPOINT","axios","post","checkCode","id","code","config","params","get","getUserById","deleteAdministrativeUnit","delete","addNewAdministrativeUnit","adminUnit","updateAdministrativeUnit","PaperComponent","props","React","createElement","Draggable","handle","cancel","Paper","toast","configure","autoClose","draggable","limit","AdministrativeUnitEditorDialog","Component","constructor","arguments","state","name","level","isActive","loading","handleChange","event","source","persist","this","setState","target","value","checked","openCircularProgress","handleFormSubmit","async","t","then","result","data","console","log","warning","_objectSpread","success","response","status","componentWillMount","open","handleClose","item","render","handleOKEditClose","i18n","Dialog","maxWidth","fullWidth","className","clsx","CircularProgress","size","DialogTitle","style","cursor","IconButton","position","right","top","onClick","Icon","color","title","ValidatorForm","ref","onSubmit","overflowY","display","flexDirection","DialogContent","dividers","Grid","container","spacing","sm","xs","TextValidator","label","onChange","type","validators","errorMessages","variant","DialogActions","Button","SimpleButton","useTranslation","cellData","cell","_cell","row","onSelect","React15TabulatorSample","rowsPerPage","page","totalElements","administrativeList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","setPage","setRowsPerPage","updatePageData","handleChangePage","newPage","handleDownload","blob","Blob","saveAs","handleDialogClose","handleDeleteAdministrativeUnit","handleConfirmationResponse","handleEditItem","pageIndex","pageSize","_ref","content","rowClick","e","table","setData","clearData","GetColumns","col","getData","selectedName","componentDidMount","columns","field","width","align","formatter","reactFormatter","method","selectedItem","ConfirmationDialog","onConfirmDialogClose","onYesClick","text","React15Tabulator","options","height","movableRows","data-custom-attr","resizableColumns","movableColumns","scrollToColumnIfVisible","selectableRollingSelection","TablePagination","rowsPerPageOptions","component","count","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage"],"mappings":"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","file":"static/js/28.7ac457b5.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport ConstantList from \"../../appConfig\";\r\nexport const getAllAdministrativeUnits = () => {\r\n  //return axios.get(\"/api/user/all\");\r\n  //alert( axios.defaults.headers.common[\"Authorization\"]);\r\n  return axios.get(ConstantList.API_ENPOINT + \"/api/administrativeunit/1/10\");\r\n  //return axios.get(ConstantList.API_ENPOINT+\"/public/animal/1/10\");  \r\n};\r\n\r\n// export const getByPage = (searchDto) => {\r\n//   var url = ConstantList.API_ENPOINT + \"/api/administrativeunit/\" + searchDto.pageIndex + '/' + searchDto.pageSize;\r\n//   return axios.get(url);\r\n// };\r\n\r\nexport const getByPage = (searchDto) => {\r\n  var url = ConstantList.API_ENPOINT + \"/api/AdministrativeUnit/searchByDto\" ;\r\n  return axios.post(url, searchDto);\r\n};\r\n\r\nexport const checkCode = (id, code) => {\r\n  const config = { params: {id: id, code: code } };\r\n  var url = ConstantList.API_ENPOINT+\"/api/AdministrativeUnit/checkCode\";\r\n  return axios.get(url, config);\r\n};\r\n\r\nexport const getByPage1 = (searchDto) => {\r\n  var url = ConstantList.API_ENPOINT + \"/api/administrativeunit\" \r\n  return axios.get(url, searchDto);\r\n};\r\n\r\nexport const getUserById = id => {\r\n  var url = ConstantList.API_ENPOINT+ \"/api/administrativeunit/\" + id;\r\n  return axios.get(url);\r\n};\r\nexport const deleteAdministrativeUnit = id => {\r\n  return axios.delete(ConstantList.API_ENPOINT + \"/api/administrativeunit/\" + id);\r\n};\r\nexport const addNewAdministrativeUnit = adminUnit => {\r\n  return axios.post(ConstantList.API_ENPOINT + \"/api/administrativeunit\", adminUnit);\r\n};\r\nexport const updateAdministrativeUnit = adminUnit => {\r\n\r\n  return axios.post(ConstantList.API_ENPOINT + \"/api/administrativeunit\", adminUnit);\r\n};\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Button,\r\n  Grid,\r\n  FormControlLabel,\r\n  Switch,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions, Icon, IconButton\r\n} from \"@material-ui/core\";\r\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\r\nimport { getUserById, updateUser, addNewAdministrativeUnit,updateAdministrativeUnit, checkCode } from \"./AdministrativeUnitService\";\r\nimport { generateRandomId } from \"utils\";\r\nimport Draggable from 'react-draggable';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../../../styles/views/_loadding.scss';\r\nimport '../../../styles/views/_style.scss';\r\n\r\nimport clsx from 'clsx';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\ntoast.configure({\r\n  autoClose: 1000,\r\n  draggable: false,\r\n  limit:3\r\n});\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nclass AdministrativeUnitEditorDialog extends Component {\r\n  state = {\r\n    name: \"\",\r\n    code: \"\",\r\n    level:0,\r\n    isActive: false,\r\n    loading:false\r\n  };\r\n\r\n  handleChange = (event, source) => {\r\n    event.persist();\r\n    if (source === \"switch\") {\r\n      this.setState({ isActive: event.target.checked });\r\n      return;\r\n    }\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n  openCircularProgress = () => {\r\n    this.setState({ loading: true });\r\n  };\r\n\r\n  handleFormSubmit = async () => {\r\n    await this.openCircularProgress();\r\n    let { id, code } = this.state;\r\n    let { t } = this.props;\r\n    checkCode(id, code).then((result) => {\r\n      //Nếu trả về true là code đã được sử dụng\r\n      if (result.data) {\r\n        console.log(\"Code đã được sử dụng\");\r\n        toast.warning(t('mess_code'));\r\n        this.setState({loading:false})\r\n      } else {\r\n        if (id) {\r\n          updateAdministrativeUnit({\r\n            ...this.state\r\n          }).then(() => {\r\n            toast.success(t('mess_edit'));\r\n            this.setState({loading:false})\r\n          });\r\n        } else {\r\n          addNewAdministrativeUnit({\r\n            ...this.state\r\n          }).then((response) => {\r\n            if(response.data != null && response.status == 200){\r\n              this.state.id = response.data.id\r\n              this.setState({...this.state, loading:false})\r\n              toast.success(t('mess_add'));\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  componentWillMount() {\r\n    //getUserById(this.props.uid).then(data => this.setState({ ...data.data }));\r\n    let { open, handleClose,item } = this.props;\r\n    this.setState(item);\r\n  }\r\n\r\n  render() {\r\n    let { open, handleClose, handleOKEditClose, t, i18n } = this.props;\r\n    let {\r\n      id,\r\n      name,\r\n      code,\r\n      level,\r\n      isActive,\r\n      loading\r\n    } = this.state;\r\n    return (\r\n      <Dialog open={open} PaperComponent={PaperComponent} maxWidth={'sm'} fullWidth={true}>\r\n        <div className={clsx(\"wrapperButton\", !loading && 'hidden')} >\r\n          <CircularProgress className=\"buttonProgress\" size={24} />\r\n        </div>\r\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\r\n        <span className=\"mb-20 styleColor\" > {(id ? t(\"update\") : t(\"Add\")) + \" \" + t(\"AdministrativeUnit.title\")} </span>\r\n        <IconButton style={{ position: \"absolute\", right: \"10px\", top: \"10px\" }} onClick={() => handleClose()}><Icon color=\"error\"\r\n              title={t(\"close\")}>\r\n              close\r\n            </Icon>\r\n            </IconButton>\r\n        </DialogTitle>\r\n          <ValidatorForm ref=\"form\" onSubmit={this.handleFormSubmit} style={{\r\n            overflowY: \"auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\"\r\n          }}>\r\n          <DialogContent dividers>\r\n          <Grid className=\"\" container spacing={4}>\r\n              <Grid item sm={12} xs={12}>\r\n                <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  label={<span className=\"font\">\r\n                      <span style={{ color: \"red\" }}> *</span>\r\n                      { t('AdministrativeUnit.code')}\r\n                    </span>\r\n                   }\r\n                  onChange={this.handleChange}\r\n                  type=\"text\"\r\n                  name=\"code\"\r\n                  value={code}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[t(\"general.errorMessages_required\")]}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n                <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  label={ <span className=\"font\">\r\n                    <span style={{ color: \"red\" }}> *</span>\r\n                    {t('AdministrativeUnit.name')}\r\n                  </span>}\r\n                  onChange={this.handleChange}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[t(\"general.errorMessages_required\")]}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n                {/* <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  label=\"Level\"\r\n                  onChange={this.handleChange}\r\n                  type=\"number\"\r\n                  name=\"level\"\r\n                  value={level}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[t(\"general.errorMessages_required\")]}\r\n                /> */}\r\n              </Grid>\r\n              {/* <Grid>\r\n                <FormControlLabel\r\n                  className=\"my-20\"\r\n                  control={\r\n                    <Switch\r\n                      checked={isActive}\r\n                      onChange={event => this.handleChange(event, \"switch\")}\r\n                    />\r\n                  }\r\n                  label=\"Active Customer\"\r\n                />\r\n              </Grid> */}\r\n            </Grid>\r\n \t        </DialogContent>\r\n            \r\n\r\n           <DialogActions spacing={4} className=\"flex flex-end flex-middle\">\r\n            <Button \r\n                variant=\"contained\" \r\n                color=\"secondary\" \r\n                onClick={() => this.props.handleClose()}>\r\n                  {t('Cancel')}\r\n              </Button>\r\n              <Button \r\n                variant=\"contained\"    \r\n                color=\"primary\" \r\n                type=\"submit\">\r\n                  {t('Save')}\r\n              </Button>\r\n            </DialogActions>\r\n          </ValidatorForm>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdministrativeUnitEditorDialog;\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\n// import \"react-tabulator/lib/styles.css\"; // default theme\r\nimport \"react-tabulator/lib/css/bootstrap/tabulator_bootstrap.min.css\"; // use Theme(s)\r\n\r\n// for React 16.4.x use: import { ReactTabulator }\r\n//import { React15Tabulator } from \"react-tabulator\"; // for React 15.x\r\nimport { React15Tabulator, reactFormatter } from \"react-tabulator\"; // for React 15.x\r\n\r\nimport { saveAs } from 'file-saver';\r\nimport { getAllAdministrativeUnits, deleteAdministrativeUnit, getByPage } from \"./AdministrativeUnitService\";\r\nimport AdministrativeUnitEditorDialog from \"./AdministrativeUnitEditorDialog\";\r\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\r\nimport ConstantList from \"../../appConfig\";\r\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\r\nimport {\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Icon,\r\n  TablePagination,\r\n  TableContainer,\r\n  Button,\r\n  Card\r\n} from \"@material-ui/core\";\r\nconst columns = [\r\n  { title: \"Name\", field: \"name\", width: \"20%\"},\r\n  { title: \"Age\", field: \"age\", align: \"left\", formatter: \"progress\" , width: \"20%\" },\r\n  { title: \"Favourite Color\", field: \"col\" , width: \"20%\"  },\r\n  { title: \"Date Of Birth\", field: \"dob\", align: \"center\" , width: 150 },\r\n  { title: \"Rating\", field: \"rating\", align: \"center\", formatter: \"star\" , width: 150 },\r\n  { title: \"Passed?\", field: \"passed\", align: \"center\", formatter: \"tickCross\" , width: 150 }\r\n];\r\n// const columns = [\r\n//   { title: \"Name\", field: \"name\", width: \"30%\"},\r\n//   { title: \"Code\", field: \"code\", align: \"left\", formatter: \"progress\" , width: \"40%\" },\r\n//   { title: \"Level\", field: \"level\" , width: \"30%\"  },\r\n// ];\r\n\r\nfunction SimpleButton(props) {\r\n  const { t, i18n } = useTranslation();\r\n  const cellData = props.cell._cell.row.data;\r\n  return <div> \r\n    <button onClick={() => props.onSelect(cellData,0)}>{t(\"Edit\")}</button> \r\n    <button onClick={() => props.onSelect(cellData,1)}>{t(\"Delete\")}</button> \r\n    </div>;\r\n}\r\n\r\n// function GetColumns(){\r\n//   const { t, i18n } = useTranslation();\r\n//   const columns = [\r\n//     { title: t(\"Name\"), field: \"name\", width: \"150\"},\r\n//     { title: t(\"Code\"), field: \"code\", align: \"left\", width: \"150\"},\r\n//     { title: t(\"Level\"), field: \"level\", width: \"150\"},\r\n//     { title: t(\"IsActive\"), field: \"isActive\", width: \"20%\"},\r\n//     {\r\n//       title: t(\"Action\"),\r\n//       field: \"custom\",\r\n//       align: \"left\",\r\n//       width: \"250\",\r\n//       formatter: reactFormatter(\r\n//         <SimpleButton\r\n//           onSelect={(item, method) => {\r\n//             if(method===0){\r\n//               this.setState({ selectedItem: item, shouldOpenEditorDialog: true});\r\n//             }else {\r\n//               this.handleDeleteAdministrativeUnit(item.id);\r\n//             }\r\n//           }}\r\n//         />\r\n//       )\r\n//     }\r\n//   ];\r\n//   return columns;\r\n// }\r\nfunction DeleteData(cellData){\r\n  alert(cellData.id);\r\n}\r\nconst data = [\r\n  {\r\n    id: 1,\r\n    name: \"Oli Bob\",\r\n    age: \"12\",\r\n    col: \"red\",\r\n    dob: \"\",\r\n    rating: 5,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Mary May\",\r\n    age: \"1\",\r\n    col: \"green\",\r\n    dob: \"14/05/1989\",\r\n    rating: 4,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Christine Lobowski\",\r\n    age: \"42\",\r\n    col: \"green\",\r\n    dob: \"22/05/1985\",\r\n    rating: 4,\r\n    passed: false\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Brendon Philips\",\r\n    age: \"125\",\r\n    col: \"red\",\r\n    dob: \"01/08/1980\",\r\n    rating: 4.5,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Margret Marmajuke\",\r\n    age: \"16\",\r\n    col: \"yellow\",\r\n    dob: \"31/01/1999\",\r\n    rating: 4,\r\n    passed: false\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"Van Ng\",\r\n    age: \"37\",\r\n    col: \"green\",\r\n    dob: \"06/15/1982\",\r\n    rating: 4,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"Duc Ng\",\r\n    age: \"37\",\r\n    col: \"yellow\",\r\n    dob: \"10/15/1982\",\r\n    rating: 4,\r\n    passed: true\r\n  }\r\n];\r\n\r\n// Editable Example:\r\nconst colorOptions = {\r\n  [\"\"]: \"&nbsp;\",\r\n  red: \"red\",\r\n  green: \"green\",\r\n  yellow: \"yellow\"\r\n};\r\nconst editableColumns = [\r\n  {\r\n    title: \"Name\",\r\n    field: \"name\",\r\n    width: 150,\r\n    editor: \"input\",\r\n    headerFilter: \"input\"\r\n  },\r\n  {\r\n    title: \"Age\",\r\n    field: \"age\",\r\n    align: \"left\",\r\n    formatter: \"progress\",\r\n    editor: \"progress\"\r\n  },\r\n  {\r\n    title: \"Favourite Color\",\r\n    field: \"col\",\r\n    editor: \"autocomplete\",\r\n    editorParams: {\r\n      allowEmpty: true,\r\n      showListOnEmpty: true,\r\n      values: colorOptions\r\n    },\r\n    headerFilter: \"select\",\r\n    headerFilterParams: { values: colorOptions }\r\n  },\r\n  { title: \"Date Of Birth\", field: \"dob\", align: \"center\", editor: \"input\" },\r\n  {\r\n    title: \"Rating\",\r\n    field: \"rating\",\r\n    align: \"center\",\r\n    formatter: \"star\",\r\n    editor: true\r\n  },\r\n  {\r\n    title: \"Passed?\",\r\n    field: \"passed\",\r\n    align: \"center\",\r\n    formatter: \"tickCross\",\r\n    editor: true\r\n  }\r\n];\r\n\r\nclass React15TabulatorSample extends React.Component {\r\n  ref = null;\r\n  state = {\r\n    rowsPerPage: 3,\r\n    page: 0,\r\n    data: [],\r\n    totalElements:0,\r\n    administrativeList: [],\r\n    shouldOpenEditorDialog: false,\r\n    shouldOpenConfirmationDialog: false\r\n  };\r\n  SimpleButton=(props)=>{\r\n    const cellData = props.cell._cell.row.data;\r\n    return <div> \r\n      <button onClick={() => props.onSelect(cellData,0)}>Edit</button> \r\n      <button onClick={() => props.onSelect(cellData,1)}>Delete</button> \r\n      </div>;\r\n  }\r\n  setPage = page => {\r\n    this.setState({ page });\r\n  };\r\n\r\n  setRowsPerPage = event => {\r\n    this.setState({ rowsPerPage: event.target.value, page:0});\r\n    this.updatePageData(0,event.target.value);\r\n  };\r\n\r\n  handleChangePage = (event, newPage) => {\r\n    this.setPage(newPage);\r\n    //alert(newPage+\"/\"+this.state.page);\r\n    this.updatePageData(newPage,this.state.rowsPerPage);\r\n  };\r\n  handleDownload = () => {\r\n    var blob = new Blob([\"Hello, world!\"], {type: \"text/plain;charset=utf-8\"});\r\n    saveAs(blob, \"hello world.txt\");    \r\n  }\r\n  handleDialogClose = () => {\r\n    this.setState({\r\n      shouldOpenEditorDialog: false,\r\n      shouldOpenConfirmationDialog: false\r\n    });\r\n    this.setPage(0);\r\n    this.updatePageData(this.state.page,this.state.rowsPerPage);\r\n  };\r\n\r\n  handleDeleteAdministrativeUnit = id => {\r\n    this.setState({\r\n      id,\r\n      shouldOpenConfirmationDialog: true\r\n    });\r\n  };\r\n\r\n  handleConfirmationResponse = () => {\r\n    //alert(this.state.id);\r\n    deleteAdministrativeUnit(this.state.id).then(() => {\r\n      this.handleDialogClose();\r\n    });\r\n  };\r\n  handleEditItem = item => {\r\n    this.setState({\r\n      item:item,\r\n      shouldOpenEditorDialog: true\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    this.updatePageData(this.state.page,this.state.rowsPerPage);\r\n  }\r\n\r\n  updatePageData = (pageIndex, pageSize) => { \r\n    getByPage(pageIndex,pageSize).then(({ data }) => this.setState({\r\n       administrativeList: [...data.content], totalElements:data.totalElements\r\n      }));\r\n  };\r\n\r\n\r\n\r\n  rowClick = (e, row) => {\r\n    console.log(\"ref table: \", this.ref.table); // this is the Tabulator table instance\r\n    console.log(\"rowClick id: ${row.getData().id}\", row, e);\r\n  };\r\n\r\n  setData = () => {\r\n    this.setState({ data:this.state.administrativeList });\r\n  };\r\n\r\n  clearData = () => {\r\n    this.setState({ data: [] });\r\n  };\r\n  GetColumns = (col)=>{\r\n    return col;\r\n  } \r\n  \r\n\r\n  rowClick = (e, row) => {\r\n    //alert(row.getData().name);\r\n    this.setState({item:row.getData()});\r\n    console.log(\"ref table: \", this.ref.table); // this is the Tabulator table instance\r\n    console.log(\"rowClick id: ${row.getData().id}\", row, e);\r\n    this.setState({ selectedName: row.getData().name });\r\n  };\r\n  render() {\r\n    const { t, i18n } = this.props;\r\n    let columns = [\r\n      { title: t(\"Name\"), field: \"name\", width: \"150\"},\r\n      { title: t(\"Code\"), field: \"code\", align: \"left\", width: \"150\"},\r\n      { title: t(\"Level\"), field: \"level\", width: \"150\"},\r\n      { title: t(\"IsActive\"), field: \"isActive\", width: \"20%\"},\r\n      {\r\n        title: t(\"Action\"),\r\n        field: \"custom\",\r\n        align: \"left\",\r\n        width: \"250\",\r\n        formatter: reactFormatter(\r\n          <SimpleButton\r\n            onSelect={(item, method) => {\r\n              if(method===0){\r\n                this.setState({ selectedItem: item, shouldOpenEditorDialog: true});\r\n              }else {\r\n                this.handleDeleteAdministrativeUnit(item.id);\r\n              }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n    const options = {\r\n      height: \"90%\",\r\n      movableRows: false\r\n    };\r\n  let {\r\n      rowsPerPage,\r\n      page,\r\n      administrativeList,\r\n      shouldOpenConfirmationDialog,\r\n      shouldOpenEditorDialog\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"mb-16\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => this.setState({ shouldOpenEditorDialog: true,item:{} })}\r\n        >\r\n          {t('AdministrativeUnitTable.AddNew')}\r\n        </Button>          \r\n          {shouldOpenEditorDialog && (\r\n            <AdministrativeUnitEditorDialog\r\n              handleClose={this.handleDialogClose}\r\n              open={this.state.shouldOpenEditorDialog}\r\n              item={this.state.item}\r\n            />\r\n          )}   \r\n          \r\n          {shouldOpenConfirmationDialog && (\r\n            <ConfirmationDialog\r\n              open={shouldOpenConfirmationDialog}\r\n              onConfirmDialogClose={this.handleDialogClose}\r\n              onYesClick={this.handleConfirmationResponse}\r\n              text=\"Are you sure to delete?\"\r\n            />\r\n          )\r\n          }     \r\n        <React15Tabulator\r\n          ref={ref => (this.ref = ref)}\r\n          columns={columns}\r\n          data={administrativeList}\r\n          rowClick={this.rowClick}\r\n          options={options}\r\n          data-custom-attr=\"test-custom-attribute\"\r\n          className=\"custom-css-class\"\r\n          resizableColumns=\"false\" movableColumns=\"false\" scrollToColumnIfVisible=\"true\" selectableRollingSelection=\"false\"\r\n          //min-width=\"750px\"\r\n        />\r\n        {/* <Pagination/> */}\r\n      \r\n          <TablePagination\r\n            align=\"left\"\r\n            className=\"px-16\"\r\n            rowsPerPageOptions={[1,2,3,5, 10, 25]}\r\n            component=\"div\"\r\n            count={this.state.totalElements}\r\n            rowsPerPage={this.state.rowsPerPage}\r\n            page={this.state.page}\r\n            backIconButtonProps={{\r\n              \"aria-label\": \"Previous Page\"\r\n            }}\r\n            nextIconButtonProps={{\r\n              \"aria-label\": \"Next Page\"\r\n            }}\r\n            onChangePage={this.handleChangePage}\r\n            onChangeRowsPerPage={this.setRowsPerPage}\r\n          />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React15TabulatorSample;\r\n"],"sourceRoot":""}