{"version":3,"sources":["app/views/AdministrativeUnit/AdministrativeUnitService.js","app/views/AdministrativeUnit/AdministrativeUnitEditorDialog.jsx","app/views/AdministrativeUnit/React15TabulatorSample.js"],"names":["__webpack_require__","d","__webpack_exports__","getByPage","checkCode","getUserById","deleteAdministrativeUnit","addNewAdministrativeUnit","updateAdministrativeUnit","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","_appConfig__WEBPACK_IMPORTED_MODULE_1__","_appConfig__WEBPACK_IMPORTED_MODULE_1___default","searchDto","url","ConstantList","API_ENPOINT","axios","post","id","code","config","params","get","delete","adminUnit","PaperComponent","props","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","react_draggable__WEBPACK_IMPORTED_MODULE_19___default","handle","cancel","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_20__","toast","configure","autoClose","draggable","limit","AdministrativeUnitEditorDialog","state","name","level","isActive","loading","handleChange","event","source","persist","_this","setState","[object Object]","target","value","checked","openCircularProgress","handleFormSubmit","_callee","_this$state","t","D_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","then","result","data","console","log","warning","Object","D_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","success","response","status","stop","_this$props","this","item","open","handleClose","_this2","_this$props2","handleOKEditClose","_this$state2","i18n","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","maxWidth","fullWidth","className","clsx","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_26__","size","_material_ui_core__WEBPACK_IMPORTED_MODULE_9__","style","cursor","_material_ui_core__WEBPACK_IMPORTED_MODULE_10__","position","right","top","onClick","_material_ui_core__WEBPACK_IMPORTED_MODULE_11__","color","title","react_material_ui_form_validator__WEBPACK_IMPORTED_MODULE_16__","ref","onSubmit","overflowY","display","flexDirection","_material_ui_core__WEBPACK_IMPORTED_MODULE_12__","dividers","_material_ui_core__WEBPACK_IMPORTED_MODULE_13__","container","spacing","sm","xs","label","onChange","type","validators","errorMessages","variant","_material_ui_core__WEBPACK_IMPORTED_MODULE_14__","_material_ui_core__WEBPACK_IMPORTED_MODULE_15__","Component","SimpleButton","_useTranslation","useTranslation","cellData","cell","_cell","row","react__WEBPACK_IMPORTED_MODULE_5___default","onSelect","React15TabulatorSample","rowsPerPage","page","totalElements","administrativeList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","setPage","setRowsPerPage","updatePageData","handleChangePage","newPage","handleDownload","blob","Blob","saveAs","handleDialogClose","handleDeleteAdministrativeUnit","handleConfirmationResponse","handleEditItem","pageIndex","pageSize","_ref","D_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","content","rowClick","e","table","setData","clearData","GetColumns","col","getData","selectedName","columns","field","width","align","formatter","reactFormatter","method","selectedItem","_AdministrativeUnitEditorDialog__WEBPACK_IMPORTED_MODULE_11__","egret__WEBPACK_IMPORTED_MODULE_12__","onConfirmDialogClose","onYesClick","text","react_tabulator__WEBPACK_IMPORTED_MODULE_8__","options","height","movableRows","data-custom-attr","resizableColumns","movableColumns","scrollToColumnIfVisible","selectableRollingSelection","_material_ui_core__WEBPACK_IMPORTED_MODULE_16__","rowsPerPageOptions","component","count","backIconButtonProps","aria-label","nextIconButtonProps","onChangePage","onChangeRowsPerPage","React"],"mappings":"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","file":"static/js/25.36f07e90.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport ConstantList from \"../../appConfig\";\r\nexport const getAllAdministrativeUnits = () => {\r\n  //return axios.get(\"/api/user/all\");\r\n  //alert( axios.defaults.headers.common[\"Authorization\"]);\r\n  return axios.get(ConstantList.API_ENPOINT + \"/api/administrativeunit/1/10\");\r\n  //return axios.get(ConstantList.API_ENPOINT+\"/public/animal/1/10\");  \r\n};\r\n\r\n// export const getByPage = (searchDto) => {\r\n//   var url = ConstantList.API_ENPOINT + \"/api/administrativeunit/\" + searchDto.pageIndex + '/' + searchDto.pageSize;\r\n//   return axios.get(url);\r\n// };\r\n\r\nexport const getByPage = (searchDto) => {\r\n  var url = ConstantList.API_ENPOINT + \"/api/AdministrativeUnit/searchByDto\" ;\r\n  return axios.post(url, searchDto);\r\n};\r\n\r\nexport const checkCode = (id, code) => {\r\n  const config = { params: {id: id, code: code } };\r\n  var url = ConstantList.API_ENPOINT+\"/api/AdministrativeUnit/checkCode\";\r\n  return axios.get(url, config);\r\n};\r\n\r\nexport const getByPage1 = (searchDto) => {\r\n  var url = ConstantList.API_ENPOINT + \"/api/administrativeunit\" \r\n  return axios.get(url, searchDto);\r\n};\r\n\r\nexport const getUserById = id => {\r\n  var url = ConstantList.API_ENPOINT+ \"/api/administrativeunit/\" + id;\r\n  return axios.get(url);\r\n};\r\nexport const deleteAdministrativeUnit = id => {\r\n  return axios.delete(ConstantList.API_ENPOINT + \"/api/administrativeunit/\" + id);\r\n};\r\nexport const addNewAdministrativeUnit = adminUnit => {\r\n  return axios.post(ConstantList.API_ENPOINT + \"/api/administrativeunit\", adminUnit);\r\n};\r\nexport const updateAdministrativeUnit = adminUnit => {\r\n\r\n  return axios.post(ConstantList.API_ENPOINT + \"/api/administrativeunit\", adminUnit);\r\n};\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Button,\r\n  Grid,\r\n  FormControlLabel,\r\n  Switch,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions, Icon, IconButton\r\n} from \"@material-ui/core\";\r\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\r\nimport { getUserById, updateUser, addNewAdministrativeUnit,updateAdministrativeUnit, checkCode } from \"./AdministrativeUnitService\";\r\nimport { generateRandomId } from \"utils\";\r\nimport Draggable from 'react-draggable';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../../../styles/views/_loadding.scss';\r\nimport '../../../styles/views/_style.scss';\r\n\r\nimport clsx from 'clsx';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\ntoast.configure({\r\n  autoClose: 1000,\r\n  draggable: false,\r\n  limit:3\r\n});\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle=\"#draggable-dialog-title\" cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nclass AdministrativeUnitEditorDialog extends Component {\r\n  state = {\r\n    name: \"\",\r\n    code: \"\",\r\n    level:0,\r\n    isActive: false,\r\n    loading:false\r\n  };\r\n\r\n  handleChange = (event, source) => {\r\n    event.persist();\r\n    if (source === \"switch\") {\r\n      this.setState({ isActive: event.target.checked });\r\n      return;\r\n    }\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n  openCircularProgress = () => {\r\n    this.setState({ loading: true });\r\n  };\r\n\r\n  handleFormSubmit = async () => {\r\n    await this.openCircularProgress();\r\n    let { id, code } = this.state;\r\n    let { t } = this.props;\r\n    checkCode(id, code).then((result) => {\r\n      //Nếu trả về true là code đã được sử dụng\r\n      if (result.data) {\r\n        console.log(\"Code đã được sử dụng\");\r\n        toast.warning(t('mess_code'));\r\n        this.setState({loading:false})\r\n      } else {\r\n        if (id) {\r\n          updateAdministrativeUnit({\r\n            ...this.state\r\n          }).then(() => {\r\n            toast.success(t('mess_edit'));\r\n            this.setState({loading:false})\r\n          });\r\n        } else {\r\n          addNewAdministrativeUnit({\r\n            ...this.state\r\n          }).then((response) => {\r\n            if(response.data != null && response.status == 200){\r\n              this.state.id = response.data.id\r\n              this.setState({...this.state, loading:false})\r\n              toast.success(t('mess_add'));\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  componentWillMount() {\r\n    //getUserById(this.props.uid).then(data => this.setState({ ...data.data }));\r\n    let { open, handleClose,item } = this.props;\r\n    this.setState(item);\r\n  }\r\n\r\n  render() {\r\n    let { open, handleClose, handleOKEditClose, t, i18n } = this.props;\r\n    let {\r\n      id,\r\n      name,\r\n      code,\r\n      level,\r\n      isActive,\r\n      loading\r\n    } = this.state;\r\n    return (\r\n      <Dialog open={open} PaperComponent={PaperComponent} maxWidth={'sm'} fullWidth={true}>\r\n        <div className={clsx(\"wrapperButton\", !loading && 'hidden')} >\r\n          <CircularProgress className=\"buttonProgress\" size={24} />\r\n        </div>\r\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\r\n        <span className=\"mb-20 styleColor\" > {(id ? t(\"update\") : t(\"Add\")) + \" \" + t(\"AdministrativeUnit.title\")} </span>\r\n        <IconButton style={{ position: \"absolute\", right: \"10px\", top: \"10px\" }} onClick={() => handleClose()}><Icon color=\"error\"\r\n              title={t(\"close\")}>\r\n              close\r\n            </Icon>\r\n            </IconButton>\r\n        </DialogTitle>\r\n          <ValidatorForm ref=\"form\" onSubmit={this.handleFormSubmit} style={{\r\n            overflowY: \"auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\"\r\n          }}>\r\n          <DialogContent dividers>\r\n          <Grid className=\"\" container spacing={4}>\r\n              <Grid item sm={12} xs={12}>\r\n                <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  label={<span className=\"font\">\r\n                      <span style={{ color: \"red\" }}> *</span>\r\n                      { t('AdministrativeUnit.code')}\r\n                    </span>\r\n                   }\r\n                  onChange={this.handleChange}\r\n                  type=\"text\"\r\n                  name=\"code\"\r\n                  value={code}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[t(\"general.errorMessages_required\")]}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n                <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  label={ <span className=\"font\">\r\n                    <span style={{ color: \"red\" }}> *</span>\r\n                    {t('AdministrativeUnit.name')}\r\n                  </span>}\r\n                  onChange={this.handleChange}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[t(\"general.errorMessages_required\")]}\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n                {/* <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  label=\"Level\"\r\n                  onChange={this.handleChange}\r\n                  type=\"number\"\r\n                  name=\"level\"\r\n                  value={level}\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[t(\"general.errorMessages_required\")]}\r\n                /> */}\r\n              </Grid>\r\n              {/* <Grid>\r\n                <FormControlLabel\r\n                  className=\"my-20\"\r\n                  control={\r\n                    <Switch\r\n                      checked={isActive}\r\n                      onChange={event => this.handleChange(event, \"switch\")}\r\n                    />\r\n                  }\r\n                  label=\"Active Customer\"\r\n                />\r\n              </Grid> */}\r\n            </Grid>\r\n \t        </DialogContent>\r\n            \r\n\r\n           <DialogActions spacing={4} className=\"flex flex-end flex-middle\">\r\n            <Button \r\n                variant=\"contained\" \r\n                color=\"secondary\" \r\n                onClick={() => this.props.handleClose()}>\r\n                  {t('Cancel')}\r\n              </Button>\r\n              <Button \r\n                variant=\"contained\"    \r\n                color=\"primary\" \r\n                type=\"submit\">\r\n                  {t('Save')}\r\n              </Button>\r\n            </DialogActions>\r\n          </ValidatorForm>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdministrativeUnitEditorDialog;\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\n// import \"react-tabulator/lib/styles.css\"; // default theme\r\nimport \"react-tabulator/lib/css/bootstrap/tabulator_bootstrap.min.css\"; // use Theme(s)\r\n\r\n// for React 16.4.x use: import { ReactTabulator }\r\n//import { React15Tabulator } from \"react-tabulator\"; // for React 15.x\r\nimport { React15Tabulator, reactFormatter } from \"react-tabulator\"; // for React 15.x\r\n\r\nimport { saveAs } from 'file-saver';\r\nimport { getAllAdministrativeUnits, deleteAdministrativeUnit, getByPage } from \"./AdministrativeUnitService\";\r\nimport AdministrativeUnitEditorDialog from \"./AdministrativeUnitEditorDialog\";\r\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\r\nimport ConstantList from \"../../appConfig\";\r\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\r\nimport {\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Icon,\r\n  TablePagination,\r\n  TableContainer,\r\n  Button,\r\n  Card\r\n} from \"@material-ui/core\";\r\nconst columns = [\r\n  { title: \"Name\", field: \"name\", width: \"20%\"},\r\n  { title: \"Age\", field: \"age\", align: \"left\", formatter: \"progress\" , width: \"20%\" },\r\n  { title: \"Favourite Color\", field: \"col\" , width: \"20%\"  },\r\n  { title: \"Date Of Birth\", field: \"dob\", align: \"center\" , width: 150 },\r\n  { title: \"Rating\", field: \"rating\", align: \"center\", formatter: \"star\" , width: 150 },\r\n  { title: \"Passed?\", field: \"passed\", align: \"center\", formatter: \"tickCross\" , width: 150 }\r\n];\r\n// const columns = [\r\n//   { title: \"Name\", field: \"name\", width: \"30%\"},\r\n//   { title: \"Code\", field: \"code\", align: \"left\", formatter: \"progress\" , width: \"40%\" },\r\n//   { title: \"Level\", field: \"level\" , width: \"30%\"  },\r\n// ];\r\n\r\nfunction SimpleButton(props) {\r\n  const { t, i18n } = useTranslation();\r\n  const cellData = props.cell._cell.row.data;\r\n  return <div> \r\n    <button onClick={() => props.onSelect(cellData,0)}>{t(\"Edit\")}</button> \r\n    <button onClick={() => props.onSelect(cellData,1)}>{t(\"Delete\")}</button> \r\n    </div>;\r\n}\r\n\r\n// function GetColumns(){\r\n//   const { t, i18n } = useTranslation();\r\n//   const columns = [\r\n//     { title: t(\"Name\"), field: \"name\", width: \"150\"},\r\n//     { title: t(\"Code\"), field: \"code\", align: \"left\", width: \"150\"},\r\n//     { title: t(\"Level\"), field: \"level\", width: \"150\"},\r\n//     { title: t(\"IsActive\"), field: \"isActive\", width: \"20%\"},\r\n//     {\r\n//       title: t(\"Action\"),\r\n//       field: \"custom\",\r\n//       align: \"left\",\r\n//       width: \"250\",\r\n//       formatter: reactFormatter(\r\n//         <SimpleButton\r\n//           onSelect={(item, method) => {\r\n//             if(method===0){\r\n//               this.setState({ selectedItem: item, shouldOpenEditorDialog: true});\r\n//             }else {\r\n//               this.handleDeleteAdministrativeUnit(item.id);\r\n//             }\r\n//           }}\r\n//         />\r\n//       )\r\n//     }\r\n//   ];\r\n//   return columns;\r\n// }\r\nfunction DeleteData(cellData){\r\n  alert(cellData.id);\r\n}\r\nconst data = [\r\n  {\r\n    id: 1,\r\n    name: \"Oli Bob\",\r\n    age: \"12\",\r\n    col: \"red\",\r\n    dob: \"\",\r\n    rating: 5,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Mary May\",\r\n    age: \"1\",\r\n    col: \"green\",\r\n    dob: \"14/05/1989\",\r\n    rating: 4,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Christine Lobowski\",\r\n    age: \"42\",\r\n    col: \"green\",\r\n    dob: \"22/05/1985\",\r\n    rating: 4,\r\n    passed: false\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Brendon Philips\",\r\n    age: \"125\",\r\n    col: \"red\",\r\n    dob: \"01/08/1980\",\r\n    rating: 4.5,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Margret Marmajuke\",\r\n    age: \"16\",\r\n    col: \"yellow\",\r\n    dob: \"31/01/1999\",\r\n    rating: 4,\r\n    passed: false\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"Van Ng\",\r\n    age: \"37\",\r\n    col: \"green\",\r\n    dob: \"06/15/1982\",\r\n    rating: 4,\r\n    passed: true\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"Duc Ng\",\r\n    age: \"37\",\r\n    col: \"yellow\",\r\n    dob: \"10/15/1982\",\r\n    rating: 4,\r\n    passed: true\r\n  }\r\n];\r\n\r\n// Editable Example:\r\nconst colorOptions = {\r\n  [\"\"]: \"&nbsp;\",\r\n  red: \"red\",\r\n  green: \"green\",\r\n  yellow: \"yellow\"\r\n};\r\nconst editableColumns = [\r\n  {\r\n    title: \"Name\",\r\n    field: \"name\",\r\n    width: 150,\r\n    editor: \"input\",\r\n    headerFilter: \"input\"\r\n  },\r\n  {\r\n    title: \"Age\",\r\n    field: \"age\",\r\n    align: \"left\",\r\n    formatter: \"progress\",\r\n    editor: \"progress\"\r\n  },\r\n  {\r\n    title: \"Favourite Color\",\r\n    field: \"col\",\r\n    editor: \"autocomplete\",\r\n    editorParams: {\r\n      allowEmpty: true,\r\n      showListOnEmpty: true,\r\n      values: colorOptions\r\n    },\r\n    headerFilter: \"select\",\r\n    headerFilterParams: { values: colorOptions }\r\n  },\r\n  { title: \"Date Of Birth\", field: \"dob\", align: \"center\", editor: \"input\" },\r\n  {\r\n    title: \"Rating\",\r\n    field: \"rating\",\r\n    align: \"center\",\r\n    formatter: \"star\",\r\n    editor: true\r\n  },\r\n  {\r\n    title: \"Passed?\",\r\n    field: \"passed\",\r\n    align: \"center\",\r\n    formatter: \"tickCross\",\r\n    editor: true\r\n  }\r\n];\r\n\r\nclass React15TabulatorSample extends React.Component {\r\n  ref = null;\r\n  state = {\r\n    rowsPerPage: 3,\r\n    page: 0,\r\n    data: [],\r\n    totalElements:0,\r\n    administrativeList: [],\r\n    shouldOpenEditorDialog: false,\r\n    shouldOpenConfirmationDialog: false\r\n  };\r\n  SimpleButton=(props)=>{\r\n    const cellData = props.cell._cell.row.data;\r\n    return <div> \r\n      <button onClick={() => props.onSelect(cellData,0)}>Edit</button> \r\n      <button onClick={() => props.onSelect(cellData,1)}>Delete</button> \r\n      </div>;\r\n  }\r\n  setPage = page => {\r\n    this.setState({ page });\r\n  };\r\n\r\n  setRowsPerPage = event => {\r\n    this.setState({ rowsPerPage: event.target.value, page:0});\r\n    this.updatePageData(0,event.target.value);\r\n  };\r\n\r\n  handleChangePage = (event, newPage) => {\r\n    this.setPage(newPage);\r\n    //alert(newPage+\"/\"+this.state.page);\r\n    this.updatePageData(newPage,this.state.rowsPerPage);\r\n  };\r\n  handleDownload = () => {\r\n    var blob = new Blob([\"Hello, world!\"], {type: \"text/plain;charset=utf-8\"});\r\n    saveAs(blob, \"hello world.txt\");    \r\n  }\r\n  handleDialogClose = () => {\r\n    this.setState({\r\n      shouldOpenEditorDialog: false,\r\n      shouldOpenConfirmationDialog: false\r\n    });\r\n    this.setPage(0);\r\n    this.updatePageData(this.state.page,this.state.rowsPerPage);\r\n  };\r\n\r\n  handleDeleteAdministrativeUnit = id => {\r\n    this.setState({\r\n      id,\r\n      shouldOpenConfirmationDialog: true\r\n    });\r\n  };\r\n\r\n  handleConfirmationResponse = () => {\r\n    //alert(this.state.id);\r\n    deleteAdministrativeUnit(this.state.id).then(() => {\r\n      this.handleDialogClose();\r\n    });\r\n  };\r\n  handleEditItem = item => {\r\n    this.setState({\r\n      item:item,\r\n      shouldOpenEditorDialog: true\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    this.updatePageData(this.state.page,this.state.rowsPerPage);\r\n  }\r\n\r\n  updatePageData = (pageIndex, pageSize) => { \r\n    getByPage(pageIndex,pageSize).then(({ data }) => this.setState({\r\n       administrativeList: [...data.content], totalElements:data.totalElements\r\n      }));\r\n  };\r\n\r\n\r\n\r\n  rowClick = (e, row) => {\r\n    console.log(\"ref table: \", this.ref.table); // this is the Tabulator table instance\r\n    console.log(\"rowClick id: ${row.getData().id}\", row, e);\r\n  };\r\n\r\n  setData = () => {\r\n    this.setState({ data:this.state.administrativeList });\r\n  };\r\n\r\n  clearData = () => {\r\n    this.setState({ data: [] });\r\n  };\r\n  GetColumns = (col)=>{\r\n    return col;\r\n  } \r\n  \r\n\r\n  rowClick = (e, row) => {\r\n    //alert(row.getData().name);\r\n    this.setState({item:row.getData()});\r\n    console.log(\"ref table: \", this.ref.table); // this is the Tabulator table instance\r\n    console.log(\"rowClick id: ${row.getData().id}\", row, e);\r\n    this.setState({ selectedName: row.getData().name });\r\n  };\r\n  render() {\r\n    const { t, i18n } = this.props;\r\n    let columns = [\r\n      { title: t(\"Name\"), field: \"name\", width: \"150\"},\r\n      { title: t(\"Code\"), field: \"code\", align: \"left\", width: \"150\"},\r\n      { title: t(\"Level\"), field: \"level\", width: \"150\"},\r\n      { title: t(\"IsActive\"), field: \"isActive\", width: \"20%\"},\r\n      {\r\n        title: t(\"Action\"),\r\n        field: \"custom\",\r\n        align: \"left\",\r\n        width: \"250\",\r\n        formatter: reactFormatter(\r\n          <SimpleButton\r\n            onSelect={(item, method) => {\r\n              if(method===0){\r\n                this.setState({ selectedItem: item, shouldOpenEditorDialog: true});\r\n              }else {\r\n                this.handleDeleteAdministrativeUnit(item.id);\r\n              }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n    const options = {\r\n      height: \"90%\",\r\n      movableRows: false\r\n    };\r\n  let {\r\n      rowsPerPage,\r\n      page,\r\n      administrativeList,\r\n      shouldOpenConfirmationDialog,\r\n      shouldOpenEditorDialog\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"mb-16\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => this.setState({ shouldOpenEditorDialog: true,item:{} })}\r\n        >\r\n          {t('AdministrativeUnitTable.AddNew')}\r\n        </Button>          \r\n          {shouldOpenEditorDialog && (\r\n            <AdministrativeUnitEditorDialog\r\n              handleClose={this.handleDialogClose}\r\n              open={this.state.shouldOpenEditorDialog}\r\n              item={this.state.item}\r\n            />\r\n          )}   \r\n          \r\n          {shouldOpenConfirmationDialog && (\r\n            <ConfirmationDialog\r\n              open={shouldOpenConfirmationDialog}\r\n              onConfirmDialogClose={this.handleDialogClose}\r\n              onYesClick={this.handleConfirmationResponse}\r\n              text=\"Are you sure to delete?\"\r\n            />\r\n          )\r\n          }     \r\n        <React15Tabulator\r\n          ref={ref => (this.ref = ref)}\r\n          columns={columns}\r\n          data={administrativeList}\r\n          rowClick={this.rowClick}\r\n          options={options}\r\n          data-custom-attr=\"test-custom-attribute\"\r\n          className=\"custom-css-class\"\r\n          resizableColumns=\"false\" movableColumns=\"false\" scrollToColumnIfVisible=\"true\" selectableRollingSelection=\"false\"\r\n          //min-width=\"750px\"\r\n        />\r\n        {/* <Pagination/> */}\r\n      \r\n          <TablePagination\r\n            align=\"left\"\r\n            className=\"px-16\"\r\n            rowsPerPageOptions={[1,2,3,5, 10, 25]}\r\n            component=\"div\"\r\n            count={this.state.totalElements}\r\n            rowsPerPage={this.state.rowsPerPage}\r\n            page={this.state.page}\r\n            backIconButtonProps={{\r\n              \"aria-label\": \"Previous Page\"\r\n            }}\r\n            nextIconButtonProps={{\r\n              \"aria-label\": \"Next Page\"\r\n            }}\r\n            onChangePage={this.handleChangePage}\r\n            onChangeRowsPerPage={this.setRowsPerPage}\r\n          />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React15TabulatorSample;\r\n"],"sourceRoot":""}