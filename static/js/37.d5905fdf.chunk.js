(this["webpackJsonpglobits-react"]=this["webpackJsonpglobits-react"]||[]).push([[37],{2222:function(e,a,t){"use strict";t.r(a);var r=t(36),s=t(38),n=t(55),l=t(54),i=t(56),o=t(0),m=t.n(o),c=t(1),d=t.n(c),u=t(1356),g=t(1355),p=t(1478),h=t(1337),E=t(1336),v=t(1340),f=t(1456),_=t(13),w=t.n(_),x=d.a.API_ENPOINT+"/public",y=t(2198),M=(o.Component,t(127)),b=t(29);t(605);b.a.configure();var C=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(n.a)(this,Object(l.a)(a).call(this,e))).state={username:"",email:"",password:"",re_password:"",agreement:!1,confirmPassword:"",isView:!0,eqaRound:null,healthOrgType:null,hasErrorEQARound:!1,hasErrorHealthOrgType:!1,shouldOpenSignupSuccessDialog:!1,passwordIsMasked:!0,confirmPasswordIsMasked:!0},t.handleChange=function(e,a){e.persist(),"checkbox"===a&&t.setState({isView:!e.target.checked,agreement:e.target.checked}),t.setState({[e.target.name]:e.target.value})},t.handleSelectEQARound=function(e){var a=e.target.value;t.setState({eqaRound:a},(function(){}))},t.handleSelectHealthOrgType=function(e){var a=e.target.value;t.setState({healthOrgType:a},(function(){}))},t.handleFormSubmit=function(e){var a={},r=t.props.t,s=t.state,n=s.password,l=s.re_password;a.email=t.state.email.trim(),a.username=t.state.email.trim(),n.length<8&&l.length<8?b.a.warning(r("sign_up.weak_password")):n===l?function(e){var a=x+"/checkUsername";return w.a.post(a,e)}(a).then((function(e){e&&e.data&&""!=e.data?b.a.error(r("sign_up.duplicate_email")):function(e){var a=x+"/checkEmail";return w.a.post(a,e)}(a).then((function(e){e&&e.data&&""!=e.data?b.a.error(r("sign_up.duplicate_email")):function(e){var a=x+"/signUpAndCreateHealthOrg";return w.a.post(a,e)}(t.state).then((function(e){null!=e&&null!=e.data&&""!=e.data?e.data.duplicateEmail?b.a.error(r("sign_up.duplicate_email")):e.data.sendEmailFailed&&b.a.error(r("sign_up.error_email")):b.a.error(r("sign_up.error_signup")),b.a.success(r("mess_SignUp")),t.props.history.push("/session/signin")}))}),(function(e){b.a.error(r("sign_up.error_signup"))}))}),(function(e){b.a.error(r("sign_up.error_signup"))})):b.a.warning(r("sign_up.duplicate_pass"))},t.togglePasswordMask=function(){t.setState((function(e){return{passwordIsMasked:!e.passwordIsMasked}}))},t.toggleConfirmPasswordMask=function(){t.setState((function(e){return{confirmPasswordIsMasked:!e.confirmPasswordIsMasked}}))},t}return Object(i.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.ValidatorForm.addValidationRule("isPasswordMatch",(function(a){return a===e.state.password})),f.ValidatorForm.addValidationRule("isLengthNumber",(function(e){return!(e.length>10)}))}},{key:"componentWillUnmount",value:function(){f.ValidatorForm.removeValidationRule("isPasswordMatch")}},{key:"render",value:function(){var e=this,a=this.props,t=a.t,r=(a.i18n,this.state),s=r.fax,n=r.officerPosion,l=r.unitCodeOfProgramPEQAS,i=r.name,o=r.taxCodeOfTheUnit,c=(r.description,r.address),_=(r.healthOrgType,r.contactName),w=r.contactPhone,x=(r.listEQARound,r.eqaRound,r.hasErrorEQARound,r.listHealthOrgType,r.hasErrorHealthOrgType,r.username,r.email),y=r.password,M=(r.isView,r.re_password),b=r.passwordIsMasked,C=r.confirmPasswordIsMasked;return m.a.createElement(f.ValidatorForm,{ref:"form",onSubmit:this.handleFormSubmit},m.a.createElement("div",{className:"signup flex flex-center w-100 h-100vh"},m.a.createElement("div",{className:"p-8"},m.a.createElement(u.a,{className:"signup-card-customs position-relative y-center"},m.a.createElement(g.a,{container:!0},m.a.createElement(g.a,{item:!0,lg:2,md:2,sm:2,xs:12},m.a.createElement("div",{className:"p-32 flex flex-center bg-light-gray flex-middle h-100"},m.a.createElement("img",{src:"/assets/images/illustrations/posting_photo.svg",alt:""}))),m.a.createElement(g.a,{item:!0,lg:10,md:10,sm:10,xs:12},m.a.createElement(g.a,{container:!0,spacing:2},m.a.createElement(g.a,{item:!0,lg:12,md:12,sm:12,xs:12},m.a.createElement("div",{className:"pt-16"},m.a.createElement("h4",{className:"text-center"},t("sign_up.title_form"))))),m.a.createElement(g.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"m-16"},m.a.createElement(g.a,{container:!0,spacing:2},m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",className:"w-100",variant:"outlined",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.healthOrgName")),onChange:this.handleChange,type:"text",name:"name",value:i,validators:["required"],errorMessages:[t("general.errorMessages_required")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",className:"w-100",variant:"outlined",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("Email")),onChange:this.handleChange,type:"email",name:"email",value:x,validators:["required","isEmail"],errorMessages:[t("general.errorMessages_required"),t("general.errorMessages_email_valid")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.taxCodeOfTheUnit")),onChange:this.handleChange,type:"text",name:"taxCodeOfTheUnit",value:o,validators:["required"],errorMessages:[t("general.errorMessages_required")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.unitCodeOfProgramPEQAS")),onChange:this.handleChange,type:"text",name:"unitCodeOfProgramPEQAS",value:l,validators:["required"],errorMessages:[t("general.errorMessages_required")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.contactName")),onChange:this.handleChange,type:"text",name:"contactName",value:_,validators:["required"],errorMessages:[t("general.errorMessages_required")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.officerPosion")),onChange:this.handleChange,type:"text",name:"officerPosion",value:n,validators:["required"],errorMessages:[t("general.errorMessages_required")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.contactPhone")),onChange:this.handleChange,type:"text",name:"contactPhone",value:w,validators:["required","matchRegexp:^[0-9]*$","isLengthNumber"],errorMessages:[t("general.errorMessages_required"),t("general.errorMessages_phone_number_invalid"),t("general.errorMessages_phone_number_invalid")]})),m.a.createElement(g.a,{item:!0,lg:6,md:6,sm:6,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:t("sign_up.fax"),onChange:this.handleChange,type:"text",name:"fax",value:s})),m.a.createElement(g.a,{item:!0,lg:12,md:12,sm:12,xs:12},m.a.createElement(f.TextValidator,{size:"small",variant:"outlined",className:"w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("sign_up.address")),onChange:this.handleChange,name:"address",value:c,validators:["required"],errorMessages:[t("general.errorMessages_required")]})),m.a.createElement(g.a,{item:!0,sm:6,xs:12},m.a.createElement(f.TextValidator,{className:"mb-16 w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("password")),variant:"outlined",onChange:this.handleChange,name:"password",type:b?"password":"text",value:y,validators:["required"],errorMessages:[t("general.errorMessages_required")],InputProps:{endAdornment:m.a.createElement(p.a,{position:"end"},m.a.createElement(h.a,{onClick:this.togglePasswordMask},b?m.a.createElement(E.a,{color:"primary",title:t("show_password")},"visibility_off"):m.a.createElement(E.a,{color:"primary",title:t("hide_password")},"visibility")))}})),m.a.createElement(g.a,{item:!0,sm:6,xs:12},m.a.createElement(f.TextValidator,{className:"mb-16 w-100",label:m.a.createElement("span",null,m.a.createElement("span",{style:{color:"red"}}," * "),t("re_password")),variant:"outlined",onChange:this.handleChange,name:"re_password",type:C?"password":"text",value:M,validators:["required","isPasswordMatch"],errorMessages:[t("general.errorMessages_required"),t("general.isPasswordMatch")],InputProps:{endAdornment:m.a.createElement(p.a,{position:"end"},m.a.createElement(h.a,{onClick:this.toggleConfirmPasswordMask},C?m.a.createElement(E.a,{color:"primary",title:t("show_password")},"visibility_off"):m.a.createElement(E.a,{color:"primary",title:t("hide_password")},"visibility")))}}))),m.a.createElement(g.a,{item:!0,lg:12,md:12,sm:12,xs:12},m.a.createElement("div",null,m.a.createElement("div",{className:"flex flex-middle mt-16"},m.a.createElement(v.a,{className:"capitalize ",variant:"contained",color:"primary",type:"submit"},t("sign_up.title")),m.a.createElement("span",{className:"ml-16 mr-8"},t("or")),m.a.createElement(v.a,{className:"capitalize",variant:"contained",onClick:function(){return e.props.history.push(d.a.ROOT_PATH+"session/signin")}},t("sign_in.title"))))))))))))}}]),a}(o.Component);a.default=Object(M.b)((function(e){return{}}),{})(C)}}]);
//# sourceMappingURL=37.d5905fdf.chunk.js.map